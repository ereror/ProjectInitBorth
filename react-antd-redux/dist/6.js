(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{228:function(e,t,a){"use strict";a.r(t);var n=a(9),s=a.n(n),i=a(10),c=a.n(i),l=a(19),r=a.n(l),o=a(20),d=a.n(o),m=a(39),u=a.n(m),p=a(21),h=a.n(p),v=a(0),f=a.n(v),g=a(88),b=a(16),N=a(98);function E(e,t){var a=e?new Date(e):new Date,n={"M+":a.getMonth()+1,"d+":a.getDate(),"H+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};for(var s in/(y+)/.test(t=t||"yyyy-MM-dd HH:mm")&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[s]:("00"+n[s]).substr((""+n[s]).length)));return t}var y=a(97),x=a.n(y),S=a(79),w=a.n(S),O=a(24),j=a(30),k=a(78),z=a(11),T=a(81),C=!1,I=function(e){function t(e){var a;return s()(this,t),(a=r()(this,d()(t).call(this,e))).state={id:"",openId:"",result:{}},document.title="曝光详情",a.getDetailTip=a.getDetailTip.bind(u()(a)),a.dzFunc=a.dzFunc.bind(u()(a)),a.sharefunc=a.sharefunc.bind(u()(a)),a.copyCount=a.copyCount.bind(u()(a)),Object(k.b)(),a}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state||{};e.id||(e=z.a.get("detailState")||{});var t=e,a=t.id,n=t.openId,s=location.href.match(/(?:type=)(\w*)/gi)||[];if(a&&(!s||s&&!s.length)){var i=z.a.get("userInfo");n||(n=i.openId),this.state.id=a,this.state.openId=n,z.a.set("detailState",{id:a,openId:n}),this.getDetailTip(a)}else{var c=decodeURIComponent(location.href),l=Object(k.a)(c);l&&this.props.getUserInfo(l)}}},{key:"componentWillReceiveProps",value:function(e){this.state.openId=e.userInfo.openId;var t="",a=location.href.match(/(?:id=)(\w*)/gi);a&&a.length&&(t=a[0].substring(3)),this.state.id=t,t.length&&this.getDetailTip(t)}},{key:"sharefunc",value:function(e){var t="http://"+window.location.host+"/pwsq.html?id="+e.id;wx.ready(function(){wx.onMenuShareAppMessage({title:e.title,desc:e.content,link:t,imgUrl:e.imgurl,type:"",dataUrl:"",success:function(){console.log("分享成功！")}}),wx.onMenuShareTimeline({title:e.title,link:t,imgUrl:e.imgurl,success:function(){}})})}},{key:"componentWillUnmount",value:function(){console.log("页面销毁"),Object(k.b)("hide")}},{key:"getDetailTip",value:function(e){var t=this;N.g.loading("数据获取中...",0);var a=this.state.openId,n=this;g.a.detailTip({id:e,openId:a}).then(function(e){if(1*e.code==200){var a=e.result;a.createDate=E(a.createDate);var s=a.imgs&&a.imgs[0]&&a.imgs[0].id,i=s&&b.fileServer+s||w.a;a.imgurl=i,a.padnumArr=[],a.imgs.map(function(e,t){var s=b.fileServer+e.id,i=new Image;i.onload=function(){var e=Math.floor(i.height/i.width*100)+"%";a.padnumArr.push(e),a.imgs.length&&t===a.imgs.length-1&&n.setState({result:a},function(){N.g.hide()})},i.src=s}),N.g.hide(),n.setState({result:a}),n.sharefunc(a)}else N.g.fail("没有获取到当前id："+t.state.id+"的详情",0)}).catch(function(e){N.g.hide();var a=Object.assign({},t.state.result,{title:"暂无数据"});a.createDate=E(a.createDate),t.setState({result:a})})}},{key:"copyCount",value:function(){var e=this.state.result.bWeixin;if(e){var t=document.createElement("input");t.value=e,t.style.position="absolute",t.style["z-index"]="-1",t.style.top="0",t.setAttribute("readonly","readonly"),document.body.appendChild(t),t.select(),t.setSelectionRange(0,e.length),document.execCommand("Copy"),document.body.removeChild(t),N.g.success("复制成功",1)}else N.g.fail("复制失败，内容不能为空",1)}},{key:"dzFunc",value:function(e){var t=this;this.state.result.dzOrcaiStatus;if(!C){C=!0;var a=1,n=0;this.state.result.dzOrcaiStatus||(n=1===e?0:2),1===this.state.result.dzOrcaiStatus&&(n=1===e?1:4),2===this.state.result.dzOrcaiStatus&&(n=1===e?5:3),a=0===n||2===n||4===n||5===n?1:0;var s={expId:this.state.id,openId:this.state.openId,actionType:1===e?0:1,actionStatus:a};N.g.loading("数据获取中...",0),g.a.dzOrCai(s).then(function(e){if(C=!1,1*e.code==200)switch(N.g.success("操作成功...",1),n){case 0:var a=Object.assign({},t.state.result,{dzNum:++t.state.result.dzNum,dzOrcaiStatus:1});t.setState({result:a});break;case 1:a=Object.assign({},t.state.result,{dzNum:--t.state.result.dzNum,dzOrcaiStatus:0});t.setState({result:a});break;case 2:a=Object.assign({},t.state.result,{caiNum:++t.state.result.caiNum,dzOrcaiStatus:2});t.setState({result:a});break;case 3:a=Object.assign({},t.state.result,{caiNum:--t.state.result.caiNum,dzOrcaiStatus:0});t.setState({result:a});break;case 4:a=Object.assign({},t.state.result,{dzNum:--t.state.result.dzNum,caiNum:++t.state.result.caiNum,dzOrcaiStatus:2});t.setState({result:a});break;case 5:a=Object.assign({},t.state.result,{caiNum:--t.state.result.caiNum,dzNum:++t.state.result.dzNum,dzOrcaiStatus:1});t.setState({result:a})}else N.g.fail("操作失败...",1)}).catch(function(e){C=!1,N.g.fail("操作失败...",1)})}}},{key:"render",value:function(){var e=this,t=this.state.result,a=null;if(console.log("%o",t),t.imgs&&t.imgs.length)a=t.imgs.map(function(e,t){var a=b.fileServer+e.id,n=Math.floor(e.height/e.width*100)+"%";console.log("padnum:",n);var s=e.orientation,i=0;3===s&&(i=180),6===s&&(i=90),8===s&&(i=270);var c={background:"url("+a+")",paddingBottom:n||"100%",backgroundSize:"cover",transform:"rotate("+i+"deg)"};return f.a.createElement("div",{className:[" detailshowimg_01 ",1!==s&&" detailshowimg_02"]},f.a.createElement("div",{className:"detailshowimg",style:c,keys:t}))});else{x.a;a=f.a.createElement("div",null,f.a.createElement("div",{className:"detailshowimg"}))}var n={background:"url("+(t.headImgUrl||x.a)+")",backgroundSize:"cover"};return f.a.createElement("div",{className:"detailB"},f.a.createElement("div",{className:"distitle"},f.a.createElement("span",null," ",t.title||"当前被举报信息"," ")),f.a.createElement("div",{className:"flex-b"},f.a.createElement("div",{className:"distitleli"},"被曝光者微信号"),f.a.createElement("div",{className:"distitleli distitleligray"},"举报时间：",t.createDate)),f.a.createElement("div",{className:"cardbox dw-h-one"},f.a.createElement("div",{className:"dw-show-box"},f.a.createElement("div",{className:"dw-show-title"},"*微信号:"),f.a.createElement("div",{className:"dw-show-content"},t.bWeixin),f.a.createElement("div",{className:"dw-copy-btn",onClick:function(){return e.copyCount()}},"复制"))),f.a.createElement("div",{className:"distitleli"},"被曝光者其他资料"),f.a.createElement("div",{className:"disitem cardbox flex-b"},f.a.createElement("div",{className:"dismess flex-c flex-w"},f.a.createElement("div",{className:"dismess-item flex-c"},f.a.createElement("div",{className:"dismess-title"},"名称/昵称"),f.a.createElement("div",{className:"dismess-content"},t.bName||"被曝光者")),f.a.createElement("div",{className:"dismess-item flex-c"},f.a.createElement("div",{className:"dismess-title"},"手机/电话"),f.a.createElement("div",{className:"dismess-content"},t.bPhone)),f.a.createElement("div",{className:"dismess-item flex-c"},f.a.createElement("div",{className:"dismess-title"},"QQ"),f.a.createElement("div",{className:"dismess-content"},t.bQq)),f.a.createElement("div",{className:"dismess-item flex-c"},f.a.createElement("div",{className:"dismess-title"},"支付宝/银行卡"),f.a.createElement("div",{className:"dismess-content"},t.bZfb)),f.a.createElement("div",{className:"dismess-itemend flex-c"},f.a.createElement("div",{className:"dismess-title"},"其他"),f.a.createElement("div",{className:"dismess-content"},t.bOther)))),f.a.createElement("div",{className:"distitleli"},"事件内容(该事件由举报人描述与平台无关)"),f.a.createElement("div",{className:"detail-box cardbox"},f.a.createElement("div",{className:"detail-content"},t.content),f.a.createElement("div",{className:"img-box"},a)),f.a.createElement("div",{className:"distitleli"},"举报者"),f.a.createElement("div",{className:"disitem cardbox flex-b"},f.a.createElement("div",{className:"dismark-02 flex-c"},f.a.createElement("div",{className:"flex-c flex-w"},f.a.createElement("div",{className:"dismarki-02",style:n}))),f.a.createElement("div",{className:"dismess flex-c flex-w dismess-02"},f.a.createElement("div",{className:"dismess-itemend flex-c"},f.a.createElement("div",{className:"dismess-title f-30"},"微信昵称:"),f.a.createElement("div",{className:"dismess-content f-30"},t.nickName)),f.a.createElement("div",{className:"dismess-itemend flex-c"},f.a.createElement("div",{className:"dismess-title f-30"},"微信号:"),f.a.createElement("div",{className:"dismess-content f-30"},!(1*t.anonymous)&&t.rWeixin||"（匿名）")))),f.a.createElement("div",{className:"opt-box flex-b"},f.a.createElement("div",{className:"opt-bar flex-c"},f.a.createElement("div",{className:"opt-bar-span"},"证明"),f.a.createElement("div",{className:["iconfont icon-buoumaotubiao18 f-60 ",1===t.dzOrcaiStatus&&" icon-active"],onClick:function(){return e.dzFunc(1)}}),f.a.createElement("div",{className:"dismess-content"},t.dzNum||0)),f.a.createElement("div",{className:"opt-bar flex-c"},f.a.createElement("div",{className:"opt-bar-span"},"污蔑"),f.a.createElement("div",{className:["iconfont icon-cai f-60 ",2===t.dzOrcaiStatus&&" icon-active"],onClick:function(){return e.dzFunc(2)}}),f.a.createElement("div",{className:"dismess-content"},t.caiNum||0))),f.a.createElement("div",{className:"wwe"}),f.a.createElement("div",{className:"opt-tip"},f.a.createElement("div",{className:"opt-tip-content"},f.a.createElement("span",null,"查看更多封杀或申诉，请关注微信公众号火眼金睛打妖怪联系客服")),f.a.createElement("div",{className:"opt-tip-readcount"},"阅读",t.readNum||0)),f.a.createElement("div",{className:"width90"},f.a.createElement(T.a,null)))}}]),t}(v.PureComponent);t.default=Object(O.connect)(function(e){return e},{getUserInfo:j.b})(I)},78:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return i});var n=a(29);function s(e){var t="",a=e.match(/(?:code=)(\w*)/gi);return a&&a.length&&(t=a[0].substring(5)),t}function i(e){var t=location.href.split("#")[0];n.a.getJsconfig({url:t}).then(function(t){if(1*t.code==200){var a=t.result,n=window.wx||{};n.config({debug:!1,appId:"wx6357f5dafdb1c45d",timestamp:a.timestamp,nonceStr:a.noncestr,signature:a.signature,jsapi_ticket:a.jsapi_ticket,jsApiList:["chooseImage","onMenuShareAppMessage","hideOptionMenu","showOptionMenu","onMenuShareTimeline","updateAppMessageShareData","updateTimelineShareData"]}),n.ready(function(){e?n.hideOptionMenu():n.showOptionMenu()})}})}},79:function(e,t,a){e.exports=a.p+"7b8e8d2f21e711168c14ba6f931da1a0.jpg"},81:function(e,t,a){"use strict";a.d(t,"a",function(){return g});var n=a(9),s=a.n(n),i=a(10),c=a.n(i),l=a(19),r=a.n(l),o=a(20),d=a.n(o),m=a(21),u=a.n(m),p=a(0),h=a.n(p),v=a(79),f=a.n(v),g=function(e){function t(){return s()(this,t),r()(this,d()(t).apply(this,arguments))}return u()(t,e),c()(t,[{key:"render",value:function(){f.a;return h.a.createElement("div",{className:"gzh-code-box"},h.a.createElement("div",{className:"gzh-code-wa"},h.a.createElement("span",null,"微信搜索"),h.a.createElement("span",{className:"gzh-code-wa-big"},"“火眼金睛打妖怪”"),h.a.createElement("span",null,"或"),h.a.createElement("span",{className:"gzh-code-wa-big"},"“hyjjdyg”"),h.a.createElement("span",null,"，以及长按右侧二维码与微信扫一扫关注公众号使用更多功能，举报网络欺诈传播正能量从我做起。")),h.a.createElement("div",{className:"gzhbox"},h.a.createElement("img",{className:"gzhbox-img",src:f.a}),h.a.createElement("div",{className:"gzhbox-text"},"长按扫码")))}}]),t}(p.PureComponent)},88:function(e,t,a){"use strict";var n=a(9),s=a.n(n),i=a(10),c=a.n(i),l=a(14),r=function(){function e(){s()(this,e)}return c()(e,[{key:"saveData",value:function(e){return Object(l.a)("admin/Index/login",e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"listTip",value:function(e){return Object(l.a)("dataSyn/api/listTip",e,{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"searchTip",value:function(e){return Object(l.a)("dataSyn/api/searchTip",e,{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"getIdBycode",value:function(e){return Object(l.a)("dataSyn/api/getbycode",e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"saveTip",value:function(e){return Object(l.a)("dataSyn/api/saveTip",e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"detailTip",value:function(e){return Object(l.a)("dataSyn/api/detailTip",e,{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"dzOrCai",value:function(e){return Object(l.a)("dataSyn/api/dzOrCai",e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"getOpenId",value:function(e){return Object(l.a)("dataSyn/api/getOpenId",e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"topTip",value:function(e){return Object(l.a)("dataSyn/api/topTip",e,{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}}]),e}();t.a=new r},97:function(e,t,a){e.exports=a.p+"9054aabebab41a3855edd31a08bcf9fa.jpg"}}]);