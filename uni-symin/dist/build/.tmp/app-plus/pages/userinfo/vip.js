(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/userinfo/vip"],{"12d5":function(t,i,e){},"1a6b":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement;t._self._c},a=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return a})},"228f":function(t,i,e){"use strict";var n=e("12d5"),a=e.n(n);a.a},"72ef":function(t,i,e){"use strict";e.r(i);var n=e("1a6b"),a=e("8339");for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);e("228f");var s=e("2877"),c=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,null,null);i["default"]=c.exports},8339:function(t,i,e){"use strict";e.r(i);var n=e("f6fe"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,function(){return n[t]})}(o);i["default"]=a.a},f6fe:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=s(e("66fd")),a=s(e("8212")),o=s(e("6d8e"));function s(t){return t&&t.__esModule?t:{default:t}}var c=getApp(),u=n.default.extend({data:function(){return{title:"Hello",STATUS_BAR_HEIGHT:wx.STATUS_BAR_HEIGHT,DEFAULT_HEADER_HEIGHT:wx.DEFAULT_HEADER_HEIGHT,barconfig:{CustomBar:wx.STATUS_BAR_HEIGHT+wx.DEFAULT_HEADER_HEIGHT,StatusBar:wx.STATUS_BAR_HEIGHT,title:"会员中心",bgset:"bg-gradual-transparent",tset:"bg-gradual-tred",hiddenTitle:2,isArrow:2},viph:"https://sns-cdn.myxianxiaobao.com/sfximao/iconH.jpg",vipimg:"https://sns-cdn.myxianxiaobao.com/sfximao/viphead.png",vipt:"https://sns-cdn.myxianxiaobao.com/sfximao/vip-time.png",vipmore:"https://sns-cdn.myxianxiaobao.com/sfximao/vip-more.png",vipIcon:[],vipItem:[{title:"白银VIP",times:"30天",isTj:!1,price:98,text:"每天送10钥匙",lititle:"",id:1},{title:"黄金VIP",times:"90天",isTj:!0,price:268,text:"每天送15钥匙",lititle:"",id:2},{title:"铂金VIP",times:"180天",isTj:!1,price:518,text:"每天送20钥匙",lititle:"",id:3},{title:"钻石VIP",times:"365天",isTj:!1,price:998,text:"每天送30钥匙",lititle:"Ta们会主动认识你",id:4}],vips:[{img:"https://sns-cdn.myxianxiaobao.com/sfximao/vip-x.png",text:"查看视频认证"},{img:"https://sns-cdn.myxianxiaobao.com/sfximao/vip-p.png",text:"查看手机号"},{img:"https://sns-cdn.myxianxiaobao.com/sfximao/vip-h.png",text:"高级筛选"},{img:"https://sns-cdn.myxianxiaobao.com/sfximao/vip-y.png",text:"优先展示"},{img:"https://sns-cdn.myxianxiaobao.com/sfximao/vip-w.png",text:"查看微信"},{img:"https://sns-cdn.myxianxiaobao.com/sfximao/vip-q.png",text:"尊贵标识"}],vipText:{},userInfo:{}}},onLoad:function(){this.vipIcon=c.globalData.vipIcon||[],this.vipItem=c.globalData.vipItem,this.init()},onShow:function(){this.userInfo=c.globalData.userInfo},methods:{init:function(){!this.vipItem||this.vipItem&&!this.vipItem.length?this.getPlayList():this.setVipitem()},setVipitem:function(){var t=this;this.vipItem.map(function(i){t.vipText[i.id]=i.title,t.vipText[-i.id]=i.key_num})},getPlayList:function(){var t=this;c.$vm.getPlayList().then(function(i){t.vipItem=i,t.setVipitem()}).catch(function(i){t.messageFunc("获取订单列表失败，请重试")})},checkOrder:function(t){var i=this,e=t.currentTarget.dataset.id,n={pay_from:wx.IS_IOS?1:2,platform:1,app_name:"51y",vip_id:e};o.default.payCheckVip(n).then(function(t){if(99997===t.code){var e=t.data&&1*t.data.order_id;i.createOrder(e)}else{var n=t.msg||"生成订单失败，请重试";i.messageFunc(n)}}).catch(function(t){i.messageFunc("生成订单失败，请重试")})},createOrder:function(i){var e=this;o.default.getGatePay({order_id:i}).then(function(n){if(1e4===n.code){var s=n.data;a.default.pay(s).then(function(n){n&&e.messageFunc("支付成功！",function(){t.$emit("getUserInfo",{msg:"更新用户信息"}),t.reLaunch({url:"/pages/index/index"})}),n||e.messageFunc("支付取消！",function(){o.default.cancle({order_id:i})})}).catch(function(t){})}else e.messageFunc("生成订单失败，请重试")})},messageFunc:function(t,i){wx.showToast({title:t,duration:1e3,icon:"none",success:function(){i&&i()}})}}});i.default=u}).call(this,e("6e42")["default"])}},[["a73a","common/runtime","common/vendor"]]]);