(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tool/videorz"],{"08c3":function(t,o,n){"use strict";n.r(o);var e=n("9f65"),i=n.n(e);for(var a in e)"default"!==a&&function(t){n.d(o,t,function(){return e[t]})}(a);o["default"]=i.a},9916:function(t,o,n){},"9f65":function(t,o,n){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e=a(n("66fd")),i=a(n("8212"));function a(t){return t&&t.__esModule?t:{default:t}}var s=getApp(),c=e.default.extend({data:function(){return{title:"Hello",STATUS_BAR_HEIGHT:wx.STATUS_BAR_HEIGHT,DEFAULT_HEADER_HEIGHT:wx.DEFAULT_HEADER_HEIGHT,barconfig:{CustomBar:wx.STATUS_BAR_HEIGHT+wx.DEFAULT_HEADER_HEIGHT,StatusBar:wx.STATUS_BAR_HEIGHT,title:"视频认证",bgset:"bg-gradual-transparent",tset:"bg-gradual-tred"},iconbw:"https://sns-cdn.myxianxiaobao.com/sfximao/iconbw.png",bgImg:"https://sns-cdn.myxianxiaobao.com/sfximao/test1.jpg",changeImg:"https://sns-cdn.myxianxiaobao.com/sfximao/v-change.png",choseImg:"https://sns-cdn.myxianxiaobao.com/sfximao/v-create.png",choseAginImg:"https://sns-cdn.myxianxiaobao.com/sfximao/v-agin.png",finishImg:"https://sns-cdn.myxianxiaobao.com/sfximao/v-finish.png",shareImg:"https://sns-cdn.myxianxiaobao.com/sfximao/share.png",finishBackImg:"../../static/images/video-close.png",isRzText:"请勿赤裸上身拍摄，否则不予通过（健身，游泳除外）",isShowBtn:!0,src:"",isTakePhoto:!0,upFileObj:{},userInfo:{},isOwnVideo:!1,isVideoStatus:1}},onLoad:function(t){this.upFileObj=t.upFileObj||{},i.default.isEmpty(this.upFileObj)||this.chooseResult(this.upFileObj),this.init()},onShow:function(){},onShareAppMessage:function(){var t=this.userInfo.header_url?this.userInfo.header_url:1===this.userInfo.gender?s.globalData.Iitemimg:s.globalData.Iitemimgw;return{title:"".concat(this.userInfo.nickname,"拍了一个自拍视频快来看看颜值有多少"),path:"/pages/index/index?otherId="+this.userInfo.memberID,imageUrl:t,success:function(t){}}},methods:{init:function(){var t=this;this.userInfo=s.globalData.userInfo,this.userInfo.video_url&&(this.src=this.userInfo.video_url,this.isOwnVideo=!0,this.$nextTick(function(){return t.playFunc()}))},finishVideo:function(t){var o=this.upFileObj,n=o.width,e=o.height,i=o.tempFilePath,a=o.duration;i.length?wx.reLaunch({url:"/pages/index/index?tempFilePath=".concat(i,"&width=").concat(n,"&height=").concat(e,"&duration=").concat(a,"&type=upload")}):wx.showToast({icon:"none",title:"当前视频存在错误，请重新上传!",duration:1e3})},changeFunc:function(){this.isTakePhoto=!this.isTakePhoto,this.showToast("切换摄像头")},chooseVideo:function(){var t=this,o=this.isTakePhoto?"front":"back";this.src="",wx.chooseVideo({sourceType:["camera"],maxDuration:60,camera:o,success:function(o){t.chooseResult(o)},fail:function(){console.log("fail"," at pages\\tool\\videorz.vue:128")},complete:function(){console.log("complete"," at pages\\tool\\videorz.vue:131")}})},chooseResult:function(t){var o=this;o.isOwnVideo=!1;var n=t.duration>10;n?(o.upFileObj=t,o.src=t.tempFilePath,o.isVideoStatus=3,setTimeout(function(){o.playFunc()},1e3)):(o.upFileObj={},o.isVideoStatus=2,wx.showToast({icon:"none",title:"视频不能低于10s",duration:2e3}))},shareFunc:function(){console.log("分享"," at pages\\tool\\videorz.vue:158")},playFunc:function(){var t=wx.createVideoContext("video");t.play()},showToast:function(t,o){t=this.isTakePhoto?"已切换至前置摄像头":"已切换至后置摄像头",o&&(t="大方地自我介绍，更有吸引力"),wx.showToast({icon:"none",title:t,duration:2e3})},goBack:function(){t.navigateBack()}}});o.default=c}).call(this,n("6e42")["default"])},a340:function(t,o,n){"use strict";var e=function(){var t=this,o=t.$createElement;t._self._c},i=[];n.d(o,"a",function(){return e}),n.d(o,"b",function(){return i})},d862:function(t,o,n){"use strict";n.r(o);var e=n("a340"),i=n("08c3");for(var a in i)"default"!==a&&function(t){n.d(o,t,function(){return i[t]})}(a);n("eec2");var s=n("2877"),c=Object(s["a"])(i["default"],e["a"],e["b"],!1,null,null,null);o["default"]=c.exports},eec2:function(t,o,n){"use strict";var e=n("9916"),i=n.n(e);i.a}},[["dd1f","common/runtime","common/vendor"]]]);