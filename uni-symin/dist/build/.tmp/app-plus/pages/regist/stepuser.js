(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/regist/stepuser"],{"8c1f":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=h(o("66fd")),n=h(o("db49")),s=h(o("8212")),r=h(o("82f8")),a=h(o("6d8e"));function h(e){return e&&e.__esModule?e:{default:e}}var u=getApp(),l=i.default.extend({data:function(){return{title:"Hello",STATUS_BAR_HEIGHT:wx.STATUS_BAR_HEIGHT,DEFAULT_HEADER_HEIGHT:wx.DEFAULT_HEADER_HEIGHT,barconfig:{CustomBar:wx.STATUS_BAR_HEIGHT+wx.DEFAULT_HEADER_HEIGHT,StatusBar:wx.STATUS_BAR_HEIGHT,title:"完善基本资料",bgset:"bg-gradual-dred",tset:"bg-gradual-tred",hiddenTitle:2,isArrow:2},vCamer:"https://sns-cdn.myxianxiaobao.com/sfximao/v-camer.png",isHead:!1,boxconfig:{key:0,model:2,btn:{ok:"确定",okcolor:"d-color-r",cancel:"取消",cancolor:"d-color-b"}},uinfoinputStyle:{"border-bottom":0},editDetail:[{key:"0",title:"昵称",icon:"",content:"",arrow:!1,size:40,type:"text",url:"",isBorderR:!1,placeholder:"请输入昵称",isInput:!0,selfconf:!1},{key:"1",title:"年龄",icon:"",content:"",arrow:!0,size:40,type:"button",url:"",isBorderR:!1,placeholder:"点击选择",isInput:!1,selfconf:!1},{key:"2",title:"身高",icon:"",content:150,arrow:!0,size:40,type:"button",url:"",isBorderR:!1,placeholder:"点击选择",isInput:!1,selfconf:!1,last:!0}],choseKey:0,showChoosebox:!1,timeChoose:[],items:[],header_url:"",userInfo:{nickname:"",header_url:"",height:160},originSrc:""}},onLoad:function(){this.userInfo=u.globalData.userInfo;var e=s.default.isEmpty(this.userInfo);e?this.getUserInfo():this.init()},onShow:function(){var e=getCurrentPages(),t=e[e.length-1];t.data.header_url&&(this.header_url=t.data.header_url),t.data.originSrc&&(this.originSrc=t.data.originSrc)},onUnload:function(){},methods:{init:function(){this.header_url=u.globalData.isUpdateHeadUrl&&this.userInfo.header_url||"",this.userInfo.height=this.userInfo.height||0,this.editDetail[0].content="",this.userInfo.birthday?(this.editDetail[1].content=this.userInfo.birthday,this.userInfo.timeChoose=this.timeChoose=this.userInfo.birthday.split("-")):(this.editDetail[1].content="",this.userInfo.timeChoose=[]),this.editDetail[2].content=this.userInfo.height&&this.userInfo.height+"cm"||""},getUserInfo:function(){var e=this;a.default.getUserInfo({member_id:0}).then(function(t){1e4===t.code&&(e.userInfo=Object.assign(t.data),u.globalData.userInfo=e.userInfo,e.init())})},choseImg:function(t){e.navigateTo({url:"/pages/tool/cropper?type=header_url&src="+this.originSrc})},goDown:function(e){var t=this;if(this.userInfo.nickname.length&&this.header_url.length&&this.userInfo.height&&(!this.userInfo.timeChoose||this.userInfo.timeChoose.length)){var o=this;this.originSrc&&this.header_url.length?(s.default.showLoading("图片上传中..."),r.default.upload({filePath:o.header_url}).then(function(i){s.default.showSuccess("图片上传成功！"),t.originSrc="",o.userInfo.header_url=i.src,s.default.goUrl(e)})):s.default.goUrl(e)}},chooseItem:function(e){var t=e.detail.val;switch(t){case"1":this.boxconfig.key=1,this.boxconfig.model=3,this.editDetail[1].content=this.timeChoose.length&&this.timeChoose.join(".")||"",this.showChoosebox=!0;break;case"2":this.items=Object.assign(n.default.selfHeight),this.boxconfig.key=2,this.boxconfig.model=2,this.choseKey=this.userInfo.height&&this.userInfo.height-150||0,this.editDetail[2].content=this.userInfo.height&&this.userInfo.height+"cm"||"",this.showChoosebox=!0;break;default:break}},surefunc:function(e){var t=e.detail,o=t.key,i=(t.choseIndex,t.time),n=t.val;switch(1*o){case 1:this.timeChoose=Object.assign(i),this.editDetail[1].content=this.timeChoose.join("."),this.showChoosebox=!1,this.userInfo.timeChoose=this.timeChoose;break;case 2:this.userInfo.height=n,this.editDetail[2].content=this.userInfo.height+"cm",this.showChoosebox=!1;break;default:break}},cancelfunc:function(){console.log("取消"," at pages\\regist\\stepuser.vue:225"),this.showChoosebox=!1},valChange:function(e){var t=e.detail,o=(t.key,t.val);this.userInfo.nickname=o||"",this.editDetail[0].content=o||""}}});t.default=l}).call(this,o("6e42")["default"])},"95e5":function(e,t,o){"use strict";o.r(t);var i=o("8c1f"),n=o.n(i);for(var s in i)"default"!==s&&function(e){o.d(t,e,function(){return i[e]})}(s);t["default"]=n.a},"977f":function(e,t,o){"use strict";var i=o("bbe8"),n=o.n(i);n.a},a7e9:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},n=[];o.d(t,"a",function(){return i}),o.d(t,"b",function(){return n})},bbe8:function(e,t,o){},df77:function(e,t,o){"use strict";o.r(t);var i=o("a7e9"),n=o("95e5");for(var s in n)"default"!==s&&function(e){o.d(t,e,function(){return n[e]})}(s);o("977f");var r=o("2877"),a=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,null,null);t["default"]=a.exports}},[["529d","common/runtime","common/vendor"]]]);