(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-regist-stepuser"],{"22c1":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'uni-page-body[data-v-34fdab32]{background:#f9f9fb;overflow:hidden}.s-u-h-box[data-v-34fdab32]{position:relative;width:100%;height:%?232?%;padding-top:%?40?%}.s-u-h-box[data-v-34fdab32]:before{display:block;content:" ";position:absolute;z-index:-1;bottom:0;top:%?-232?%;left:%?-100?%;width:%?950?%;height:%?464?%;border-radius:50%;background:#f81f5e}.s-u-h-text[data-v-34fdab32]{margin-bottom:%?40?%;height:%?40?%;line-height:%?40?%;text-align:center;font-size:%?32?%;color:#fff}.s-u-h-img[data-v-34fdab32]{width:%?170?%;height:%?170?%;border-radius:50%;background:#fff;margin:0 auto}.s-u-h-icon[data-v-34fdab32]{width:%?56?%;height:%?40?%}.s-u-h-big[data-v-34fdab32]{width:100%;height:100%}.s-u-item-box[data-v-34fdab32]{margin-top:%?100?%;padding:0 %?30?%}.s-u-item-detail[data-v-34fdab32]{background:#fff;border-radius:%?30?%;overflow:hidden}.s-u-item-top-20[data-v-34fdab32]{margin-top:%?-20?%}.headImg[data-v-34fdab32]{width:100%;height:100%;border-radius:50%}.fixbtn[data-v-34fdab32]{position:fixed;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;bottom:%?40?%;z-index:99;width:100%}.job_btn[data-v-34fdab32]{width:%?690?%;height:%?88?%;margin:0 auto;border-radius:%?30?%;color:#fff}.job_btnA[data-v-34fdab32]{background:#f81f5e!important}.fixmsgBox[data-v-34fdab32]{position:fixed;z-index:49999;top:0;left:0;bottom:0;right:0;background:hsla(0,0%,100%,.5)}.fixmsg[data-v-34fdab32]{width:%?540?%;height:%?678?%;background:#fff;border-radius:%?30?%;-webkit-box-shadow:0 0 %?40?% %?0?% rgba(0,0,0,.2);box-shadow:0 0 %?40?% %?0?% rgba(0,0,0,.2)}.fixmsg-title[data-v-34fdab32]{padding:%?40?% %?56?%;font-size:%?28?%;line-height:%?48?%;color:#333;text-align:center;font-weight:600}.fixmsg-msg-01[data-v-34fdab32]{padding:%?22?% %?40?% %?18?% %?40?%;font-size:%?28?%;line-height:%?40?%;color:#333}.fixmsg-img-01[data-v-34fdab32],.fixmsg-img-02[data-v-34fdab32]{padding:0 %?36?%}.fixmsg-img-01-img[data-v-34fdab32],.fixmsg-img-02-box[data-v-34fdab32]{width:%?112?%;height:%?112?%;margin-right:%?6?%}.fixmsg-msg-02[data-v-34fdab32]{padding:%?20?% 0;text-align:center;font-size:%?28?%;line-height:%?48?%;color:#333}.fixmsg-img-02-box[data-v-34fdab32]{position:relative}.fixmsg-img-02-box-msg[data-v-34fdab32]{position:absolute;z-index:2;left:0;bottom:0;right:0;height:%?40?%;line-height:%?28?%;font-size:%?20?%;color:#fff;background:rgba(0,0,0,.5)}.fixmsg-btn[data-v-34fdab32]{padding:%?40?% %?38?%}.fixmsg-btn-choose[data-v-34fdab32],.fixmsg-btn-take[data-v-34fdab32]{width:%?200?%;height:%?88?%;border-radius:%?44?%;background:#6267f9;font-size:%?32?%;line-height:%?44?%;color:#fff}.fixmsg-btn-choose[data-v-34fdab32]{background:#f81f5e}body.?%PAGE?%[data-v-34fdab32]{background:#f9f9fb}',""])},"3d1f":function(t,i,e){"use strict";var s=e("9fe2"),a=e.n(s);a.a},"40ff":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=f(e("e143")),a=f(e("db49")),o=f(e("8212")),n=f(e("82f8")),r=f(e("6d8e"));function f(t){return t&&t.__esModule?t:{default:t}}var c=getApp(),d=s.default.extend({data:function(){return{title:"Hello",STATUS_BAR_HEIGHT:wx.STATUS_BAR_HEIGHT,DEFAULT_HEADER_HEIGHT:wx.DEFAULT_HEADER_HEIGHT,barconfig:{CustomBar:wx.STATUS_BAR_HEIGHT+wx.DEFAULT_HEADER_HEIGHT,StatusBar:wx.STATUS_BAR_HEIGHT,title:"完善基本资料",bgset:"bg-gradual-dred",tset:"bg-gradual-tred",isArrow:1},vCamer:"https://sns-cdn.myxianxiaobao.com/sfximao/v-camer.png",uploadImgExample:"https://sns-cdn.myxianxiaobao.com/sfximao/up-example-0",isHead:!1,boxconfig:{key:0,model:2,btn:{ok:"确定",okcolor:"d-color-r",cancel:"取消",cancolor:"d-color-b"}},uinfoinputStyle:{"border-bottom":0},editDetail:[{key:"0",title:"昵称",icon:"",content:"",arrow:!1,size:40,type:"text",url:"",isBorderR:!1,placeholder:"请输入昵称",isInput:!0,selfconf:!1},{key:"1",title:"年龄",icon:"",content:"",arrow:!0,size:40,type:"button",url:"",isBorderR:!1,placeholder:"点击选择",isInput:!1,selfconf:!1},{key:"2",title:"身高",icon:"",content:150,arrow:!0,size:40,type:"button",url:"",isBorderR:!1,placeholder:"点击选择",isInput:!1,selfconf:!1,last:!0}],choseKey:0,showChoosebox:!1,timeChoose:[1990,1,1],items:[],header_url:"",userInfo:{nickname:"",header_url:"",height:160},originSrc:"",photomsg:!1}},onLoad:function(){this.userInfo=c.globalData.userInfo;var t=o.default.isEmpty(this.userInfo);t?this.getUserInfo():this.init()},onShow:function(){var t=getCurrentPages(),i=t[t.length-1];i.data.header_url&&(this.header_url=i.data.header_url),i.data.originSrc&&(this.originSrc=i.data.originSrc)},onUnload:function(){},methods:{init:function(){this.header_url=c.globalData.isUpdateHeadUrl&&this.userInfo.header_url||"",this.userInfo.height=this.userInfo.height||0,this.editDetail[0].content="",this.userInfo.birthday?(this.editDetail[1].content=this.userInfo.birthday,this.userInfo.timeChoose=this.timeChoose=this.userInfo.birthday.split("-")):(this.editDetail[1].content="",this.userInfo.timeChoose=[]),this.editDetail[2].content=this.userInfo.height&&this.userInfo.height+"cm"||""},getUserInfo:function(){var t=this;r.default.getUserInfo({member_id:0}).then(function(i){1e4===i.code&&(t.userInfo=Object.assign(i.data),c.globalData.userInfo=t.userInfo,t.init())})},choseImgFunc:function(t){var i=1===t?["camera"]:["album"],e=this;wx.chooseImage({count:1,sourceType:i,success:function(t){var i=t.tempFilePaths[0];e.originSrc=i,e.choseImg()}})},choseImg:function(t){this.photomsg=!1;uni.navigateTo({url:"/pages/tool/cropper?type=header_url&src="+this.originSrc})},goDown:function(t){var i=this;if(this.editDetail[0].content.length&&this.header_url.length&&this.userInfo.height&&(!this.userInfo.timeChoose||this.userInfo.timeChoose.length)){var e=this;this.originSrc&&this.header_url.length?(o.default.showLoading("图片上传中..."),n.default.upload({filePath:e.header_url}).then(function(t){o.default.showSuccess("图片上传成功！"),i.originSrc="",e.userInfo.header_url=t.src,uni.reLaunch({url:"/pages/regist/stepinfo"})})):uni.reLaunch({url:"/pages/regist/stepinfo"})}},chooseItem:function(t){var i=t.detail.val;switch(i){case"1":this.boxconfig.key=1,this.boxconfig.model=3,this.showChoosebox=!0;break;case"2":this.items=Object.assign(a.default.selfHeight),this.boxconfig.key=2,this.boxconfig.model=2,this.choseKey=this.userInfo.height&&this.userInfo.height-150||0,0===this.userInfo.height&&(this.choseKey=10),this.showChoosebox=!0;break;default:break}},surefunc:function(t){var i=t.detail,e=i.key,s=(i.choseIndex,i.time),a=i.val;switch(1*e){case 1:this.timeChoose=Object.assign(s),this.editDetail[1].content=this.timeChoose.join("."),this.showChoosebox=!1,this.userInfo.timeChoose=this.timeChoose;break;case 2:this.userInfo.height=a,this.editDetail[2].content=this.userInfo.height+"cm",this.showChoosebox=!1;break;default:break}},cancelfunc:function(){console.log("取消"),this.showChoosebox=!1},valChange:function(t){var i=t.detail,e=(i.key,i.val);this.userInfo.nickname=e||"",this.editDetail[0].content=e||""},createFormId:function(t){t.detail.formId&&c.$vm.sendFormId(t.detail.formId)}}});i.default=d},"4fcf":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return[e("custombar",{attrs:{name:"uni-app",barconfig:t.barconfig}}),e("v-uni-view",{staticClass:"s-u-h-box"},[e("v-uni-view",{staticClass:"s-u-h-text"},[t._v("上传头像")]),e("v-uni-view",{staticClass:"s-u-h-img flex-c",on:{click:function(i){i=t.$handleEvent(i),t.photomsg=!0}}},[t.header_url.length?t._e():e("v-uni-image",{class:["s-u-h-icon",t.isHead?"s-u-h-big":""],attrs:{src:t.vCamer,mode:"aspectFill"}}),t.header_url.length?e("v-uni-image",{staticClass:"headImg",attrs:{src:t.header_url,mode:"aspectFill"}}):t._e()],1)],1),e("v-uni-view",{staticClass:"s-u-item-box"},[e("v-uni-view",{staticClass:"s-u-item-detail"},[e("iptitem",{attrs:{inputconfig:t.editDetail[0],inputStyle:t.uinfoinputStyle},on:{change:function(i){i=t.$handleEvent(i),t.valChange(i)}}}),e("iptitem",{attrs:{inputconfig:t.editDetail[1]},on:{choose:function(i){i=t.$handleEvent(i),t.chooseItem(i)}}}),e("iptitem",{attrs:{inputconfig:t.editDetail[2]},on:{choose:function(i){i=t.$handleEvent(i),t.chooseItem(i)}}})],1)],1),t.photomsg?e("v-uni-view",{staticClass:"fixmsgBox flex-c"},[e("v-uni-view",{staticClass:"fixmsg"},[e("v-uni-view",{staticClass:"fixmsg-title"},[t._v("上传真实本人照片，会更受欢迎哦")]),e("v-uni-view",{staticClass:"fixmsg-msg-01"},[t._v("请上传本人照片，五官清晰。例如：")]),e("v-uni-view",{staticClass:"fixmsg-img-01 flex-x-l"},[e("v-uni-image",{staticClass:"fixmsg-img-01-img",attrs:{src:t.uploadImgExample+1+".png"}}),e("v-uni-image",{staticClass:"fixmsg-img-01-img",attrs:{src:t.uploadImgExample+2+".png"}}),e("v-uni-image",{staticClass:"fixmsg-img-01-img",attrs:{src:t.uploadImgExample+3+".png"}}),e("v-uni-image",{staticClass:"fixmsg-img-01-img",attrs:{src:t.uploadImgExample+4+".png"}})],1),e("v-uni-view",{staticClass:"fixmsg-msg-02"},[t._v("请勿上传以下照片，例如：")]),e("v-uni-view",{staticClass:"fixmsg-img-02 flex-x-l"},[e("v-uni-view",{staticClass:"fixmsg-img-02-box"},[e("v-uni-image",{staticClass:"fixmsg-img-01-img",attrs:{src:t.uploadImgExample+5+".png"}}),e("v-uni-view",{staticClass:"fixmsg-img-02-box-msg flex-c"},[t._v("非本人照")])],1),e("v-uni-view",{staticClass:"fixmsg-img-02-box"},[e("v-uni-image",{staticClass:"fixmsg-img-01-img",attrs:{src:t.uploadImgExample+6+".png"}}),e("v-uni-view",{staticClass:"fixmsg-img-02-box-msg flex-c"},[t._v("模糊不清")])],1),e("v-uni-view",{staticClass:"fixmsg-img-02-box"},[e("v-uni-image",{staticClass:"fixmsg-img-01-img",attrs:{src:t.uploadImgExample+7+".png"}}),e("v-uni-view",{staticClass:"fixmsg-img-02-box-msg flex-c"},[t._v("宠物风景")])],1),e("v-uni-view",{staticClass:"fixmsg-img-02-box"},[e("v-uni-image",{staticClass:"fixmsg-img-01-img",attrs:{src:t.uploadImgExample+8+".png"}}),e("v-uni-view",{staticClass:"fixmsg-img-02-box-msg flex-c"},[t._v("明星艺人")])],1)],1),e("v-uni-view",{staticClass:"fixmsg-btn flex-b"},[e("v-uni-view",{staticClass:"fixmsg-btn-take flex-c",on:{click:function(i){i=t.$handleEvent(i),t.choseImgFunc(1)}}},[t._v("拍照")]),e("v-uni-view",{staticClass:"fixmsg-btn-choose flex-c",on:{click:function(i){i=t.$handleEvent(i),t.choseImgFunc(2)}}},[t._v("选择照片")])],1)],1)],1):t._e(),e("v-uni-view",{staticClass:"fixbtn"},[e("v-uni-form",{attrs:{"report-submit":!0},on:{submit:function(i){i=t.$handleEvent(i),t.createFormId(i)}}},[t.header_url.length&&t.editDetail[0].content.length&&t.userInfo.height&&t.userInfo.timeChoose&&t.userInfo.timeChoose.length?e("v-uni-button",{staticClass:"c-btn lg job_btn job_btnA",attrs:{"form-type":"submit","data-url":"/pages/regist/stepinfo"},on:{click:function(i){i=t.$handleEvent(i),t.goDown(i)}}},[t._v("下一步")]):e("v-uni-button",{staticClass:"c-btn lg job_btn",attrs:{"form-type":"submit","data-url":"/pages/regist/stepinfo"},on:{click:function(i){i=t.$handleEvent(i),t.goDown(i)}}},[t._v("下一步")])],1)],1),t.showChoosebox?e("dialogbox",{attrs:{items:t.items,boxconfig:t.boxconfig,timeArr:t.timeChoose,choseKey:t.choseKey},on:{surefunc:function(i){i=t.$handleEvent(i),t.surefunc(i)},cancelfunc:function(i){i=t.$handleEvent(i),t.cancelfunc(i)}}}):t._e()]},a=[];e.d(i,"a",function(){return s}),e.d(i,"b",function(){return a})},"95e5":function(t,i,e){"use strict";e.r(i);var s=e("40ff"),a=e.n(s);for(var o in s)"default"!==o&&function(t){e.d(i,t,function(){return s[t]})}(o);i["default"]=a.a},"9fe2":function(t,i,e){var s=e("22c1");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("4f06").default;a("28026d07",s,!0,{sourceMap:!1,shadowMode:!1})},df77:function(t,i,e){"use strict";e.r(i);var s=e("4fcf"),a=e("95e5");for(var o in a)"default"!==o&&function(t){e.d(i,t,function(){return a[t]})}(o);e("3d1f");var n=e("2877"),r=Object(n["a"])(a["default"],s["a"],s["b"],!1,null,"34fdab32",null);i["default"]=r.exports}}]);