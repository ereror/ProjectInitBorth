(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tool-videorz"],{"08c3":function(i,t,e){"use strict";e.r(t);var a=e("5cdf"),n=e.n(a);for(var o in a)"default"!==o&&function(i){e.d(t,i,function(){return a[i]})}(o);t["default"]=n.a},"0fb5":function(i,t,e){"use strict";var a=e("eb8d"),n=e.n(a);n.a},"3f16":function(i,t,e){"use strict";var a=function(){var i=this,t=i.$createElement,e=i._self._c||t;return[e("custombar",{attrs:{name:"uni-app",barconfig:i.barconfig}}),e("v-uni-cover-view",{staticClass:"actionimage1",on:{click:function(t){t=i.$handleEvent(t),i.goBack(t)}}},[e("v-uni-cover-image",{staticClass:"actionimage1-img",attrs:{src:i.iconbw}})],1),e("v-uni-view",{staticClass:"vi-box",style:{"margin-top":-i.barconfig.CustomBar+"px"}},[e("v-uni-video",{staticClass:"vi-source",attrs:{src:i.src,"object-fit":"contain","enable-play-gesture":!0,"show-center-play-btn":!1,"nitial-time":"1",loop:"true",id:"video",controls:!1}}),e("v-uni-cover-view",{staticClass:"vi-btnbox",style:{opacity:i.isShowBtn?1:0}},[e("v-uni-cover-view",{staticClass:"vi-bar"},[e("v-uni-cover-view",{staticClass:"vi-bar-img"},[i.isOwnVideo||3==i.isVideoStatus?i._e():e("v-uni-cover-image",{staticClass:"vi-play-imgd",attrs:{src:i.changeImg},on:{click:function(t){t=i.$handleEvent(t),i.changeFunc(t)}}}),i.isOwnVideo?e("v-uni-button",{staticClass:"vi-bar-img-btn",attrs:{"open-type":"share"}},[e("v-uni-cover-image",{staticClass:"vi-play-imgd",attrs:{src:i.shareImg}})],1):i._e()],1),e("v-uni-cover-view",{class:["vi-play-box",3===i.isVideoStatus?"vi-replay":""]},[e("v-uni-cover-image",{staticClass:"vi-play",attrs:{src:1===i.isVideoStatus?i.choseImg:i.choseAginImg},on:{click:function(t){t=i.$handleEvent(t),i.goBack(t)}}}),i.isVideoStatus>1?e("v-uni-cover-view",{staticClass:"vi-play-text"},[i._v("重新拍摄")]):i._e()],1),3===i.isVideoStatus?e("v-uni-cover-view",{staticClass:"vi-finish-box"},[e("v-uni-cover-image",{staticClass:"vi-finish",attrs:{"data-url":"/pages/index/index",src:i.finishImg},on:{click:function(t){t=i.$handleEvent(t),i.finishVideo(t)}}}),e("v-uni-cover-view",{staticClass:"vi-finish-text"},[i._v("完成")])],1):i._e(),e("v-uni-cover-view",{staticClass:"vi-mark-text vi-rz",on:{click:function(t){t=i.$handleEvent(t),i.playFunc(t)}}},[i._v(i._s(i.isRzText))])],1),e("v-uni-cover-image",{staticClass:"vi-finish-back",attrs:{src:i.finishBackImg},on:{click:function(t){t=i.$handleEvent(t),i.goBack(t)}}})],1)],1)]},n=[];e.d(t,"a",function(){return a}),e.d(t,"b",function(){return n})},"5cdf":function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(e("e143")),n=o(e("8212"));function o(i){return i&&i.__esModule?i:{default:i}}var s=getApp(),c=a.default.extend({data:function(){return{title:"Hello",STATUS_BAR_HEIGHT:wx.STATUS_BAR_HEIGHT,DEFAULT_HEADER_HEIGHT:wx.DEFAULT_HEADER_HEIGHT,barconfig:{CustomBar:wx.STATUS_BAR_HEIGHT+wx.DEFAULT_HEADER_HEIGHT,StatusBar:wx.STATUS_BAR_HEIGHT,title:"视频认证",bgset:"bg-gradual-transparent",tset:"bg-gradual-tred"},iconbw:"https://sns-cdn.myxianxiaobao.com/sfximao/iconbw.png",bgImg:"https://sns-cdn.myxianxiaobao.com/sfximao/test1.jpg",changeImg:"https://sns-cdn.myxianxiaobao.com/sfximao/v-change.png",choseImg:"https://sns-cdn.myxianxiaobao.com/sfximao/v-create.png",choseAginImg:"https://sns-cdn.myxianxiaobao.com/sfximao/v-agin.png",finishImg:"https://sns-cdn.myxianxiaobao.com/sfximao/v-finish.png",shareImg:"https://sns-cdn.myxianxiaobao.com/sfximao/share.png",finishBackImg:"../../static/images/video-close.png",isRzText:"请勿赤裸上身拍摄，否则不予通过（健身，游泳除外）",isShowBtn:!0,src:"",isTakePhoto:!0,upFileObj:{},userInfo:{},isOwnVideo:!1,isVideoStatus:1}},onLoad:function(i){if(this.upFileObj=i.upFileObj||{},this.upFileObj.length&&!n.default.isEmpty(this.upFileObj))try{this.upFileObj=JSON.parse(this.upFileObj),this.chooseResult(this.upFileObj)}catch(t){}else this.init()},onShow:function(){},onShareAppMessage:function(){var i=this.userInfo.header_url?this.userInfo.header_url:1===this.userInfo.gender?s.globalData.Iitemimg:s.globalData.Iitemimgw;return{title:"".concat(this.userInfo.nickname,"拍了一个自拍视频快来看看颜值有多少"),path:"/pages/index/index?otherId="+this.userInfo.memberID+"&shareType=user&id="+this.userInfo.memberID,imageUrl:i,success:function(i){}}},onUnload:function(){var i=wx.createVideoContext("video");i.stop()},methods:{init:function(){var i=this;this.userInfo=s.globalData.userInfo,this.userInfo&&this.userInfo.video_url&&(this.src=this.userInfo.video_url,this.isOwnVideo=!0,this.$nextTick(function(){return i.playFunc()}))},finishVideo:function(i){var t=this.upFileObj,e=t.width,a=t.height,n=t.tempFilePath,o=t.duration;n.length?wx.reLaunch({url:"/pages/index/index?tempFilePath=".concat(n,"&width=").concat(e,"&height=").concat(a,"&duration=").concat(o,"&type=upload")}):wx.showToast({icon:"none",title:"当前视频存在错误，请重新上传!",duration:1e3})},changeFunc:function(){this.isTakePhoto=!this.isTakePhoto,this.showToast("切换摄像头")},chooseVideo:function(){var i=this,t=this.isTakePhoto?"front":"back";this.src="",wx.chooseVideo({sourceType:["camera"],maxDuration:30,camera:t,success:function(t){i.chooseResult(t)},fail:function(){console.log("fail")},complete:function(){console.log("complete")}})},chooseResult:function(i){var t=this;t.isOwnVideo=!1;var e=i.duration>10;e?(t.upFileObj=i,t.src=i.tempFilePath,t.isVideoStatus=3,setTimeout(function(){t.playFunc()},1e3)):(t.upFileObj={},t.isVideoStatus=2,wx.showToast({icon:"none",title:"视频不能低于10s",duration:2e3}))},shareFunc:function(){console.log("分享")},playFunc:function(){var i=wx.createVideoContext("video");i.play()},showToast:function(i,t){i=this.isTakePhoto?"已切换至前置摄像头":"已切换至后置摄像头",t&&(i="大方地自我介绍，更有吸引力"),wx.showToast({icon:"none",title:i,duration:2e3})},goBack:function(){uni.navigateBack()}}});t.default=c},c415:function(i,t,e){t=i.exports=e("2350")(!1),t.push([i.i,"uni-page-body[data-v-249d740c]{overflow:hidden}.vi-box[data-v-249d740c]{position:relative;height:100%;width:100%}.vi-btnbox[data-v-249d740c]{position:absolute;z-index:2;top:0;left:0;right:0;bottom:0;font-size:40px;color:#fff}.vi-source[data-v-249d740c]{height:100%;width:100%}.vi-play-box[data-v-249d740c]{position:absolute;width:%?150?%;height:%?160?%;left:%?300?%;bottom:%?190?%}.vi-finish[data-v-249d740c],.vi-play[data-v-249d740c]{margin:0 auto;width:%?104?%;height:%?104?%}.vi-replay[data-v-249d740c]{\n\t /* margin:800rpx 104rpx; */left:%?100?%}.vi-finish-text[data-v-249d740c],.vi-play-text[data-v-249d740c]{font-size:%?30?%;width:%?150?%;text-align:center;margin-top:%?16?%}.vi-finish-box[data-v-249d740c]{position:absolute;width:%?150?%;bottom:%?190?%;left:%?490?%\n\t/* margin:-960rpx 480rpx; */}.vi-bar[data-v-249d740c]{position:relative;height:100%;width:100%}.vi-bar-img[data-v-249d740c]{margin:%?168?% %?0?% %?0?% %?644?%;width:%?76?%}.vi-bar-img-btn[data-v-249d740c]{background:none;outline:none}.vi-mark-text[data-v-249d740c]{position:absolute;bottom:0;left:0;width:100%;z-inex:12;height:%?60?%;line-height:%?60?%;font-size:%?28?%;color:#fff;text-align:center}.vi-rz[data-v-249d740c]{background:rgba(193,66,103,.8)}.vi-play-imgd[data-v-249d740c]{height:%?76?%;width:%?76?%}.actionimage1[data-v-249d740c]{position:absolute;z-index:11111;padding:%?30?% %?100?% %?30?% %?30?%;top:%?40?%;left:%?0?%}.actionimage1-img[data-v-249d740c]{width:%?22?%;height:%?36?%}.vi-finish-back[data-v-249d740c]{position:absolute;z-index:449;bottom:%?106?%;height:%?54?%;width:%?54?%;left:%?348?%}",""])},d862:function(i,t,e){"use strict";e.r(t);var a=e("3f16"),n=e("08c3");for(var o in n)"default"!==o&&function(i){e.d(t,i,function(){return n[i]})}(o);e("0fb5");var s=e("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"249d740c",null);t["default"]=c.exports},eb8d:function(i,t,e){var a=e("c415");"string"===typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);var n=e("4f06").default;n("6c33270d",a,!0,{sourceMap:!1,shadowMode:!1})}}]);