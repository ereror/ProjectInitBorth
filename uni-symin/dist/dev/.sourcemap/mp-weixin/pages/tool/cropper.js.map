<<<<<<< HEAD
{"version":3,"sources":["webpack:///./src/pages/tool/cropper.vue?f73a","webpack:///./src/pages/tool/cropper.vue?978d","webpack:///./src/pages/tool/cropper.vue?7138","webpack:///./src/pages/tool/cropper.vue?d4ec","webpack:///./src/pages/tool/cropper.vue","webpack:///./src/pages/tool/cropper.vue?341c","webpack:///./src/pages/tool/cropper.vue?b55d"],"names":["device","wx","getSystemInfoSync","width","windowWidth","height","windowHeight","app","getApp","Vue","extend","data","type","originSrc","isChange","cropperOpt","id","rotateI","tranlateX","tranlateY","scale","zoom","cut","x","y","sizex","sizey","methods","getCropperImage","wecropper","src","previewImage","current","urls","console","log","uploadTap","self","chooseImage","count","sizeType","sourceType","success","res","tempFilePaths","filesize","tempFiles","size","filename","substr","lastIndexOf","length","utils","showFail","pushOrign","saveCropperImage","getPage","setData","navigateBack","touchStart","e","touchMove","touchEnd","onLoad","option","ratio","cwidth","cheight","WeCropper","on","ctx","that","showToast","title","icon","duration","hideToast","instance","updateCanvas"],"mappings":"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","file":"pages/tool/cropper.js","sourcesContent":["import { render, staticRenderFns } from \"./cropper.vue?vue&type=template&id=42dca2cc&\"\nimport script from \"./cropper.vue?vue&type=script&lang=js&\"\nexport * from \"./cropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cropper.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\project\\\\qc_study\\\\sy_project\\\\sy-mini\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('42dca2cc', component.options)\n    } else {\n      api.reload('42dca2cc', component.options)\n    }\n    module.hot.accept(\"./cropper.vue?vue&type=template&id=42dca2cc&\", function () {\n      api.rerender('42dca2cc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/tool/cropper.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cropper.vue?vue&type=template&id=42dca2cc&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cropper.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport WeCropper from '../../static/libs/we-cropper/we-cropper.js'\r\nimport utils from '../../static/utils/index.js'\r\nconst device = wx.getSystemInfoSync()\r\nconst width = device.windowWidth\r\nconst height = device.windowHeight - 50\r\nimport Vue from 'vue';\r\nlet app = getApp()\r\nexport default Vue.extend({\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttype: '',\r\n\t\t\toriginSrc: '',\r\n\t\t\tisChange: false,\r\n\t\t\tcropperOpt: {\r\n\t\t\t\tid: 'cropper',\r\n\t\t\t\trotateI: 0, //旋转默认角度\r\n\t\t\t\ttranlateX: width / 2, //定义canvas 的原点\r\n\t\t\t\ttranlateY: height / 2, //定义canvas 的原点\r\n\t\t\t\twidth, // 画布宽度\r\n\t\t\t\theight, // 画布高度\r\n\t\t\t\tscale: 2.5, // 最大缩放倍数\r\n\t\t\t\tzoom: 8, // 缩放系数,\r\n\t\t\t\tcut: {\r\n\t\t\t\t\tx: (width - width / 1.6) / 2,\r\n\t\t\t\t\ty: (height - width * 0.8) / 2,\r\n\t\t\t\t\twidth: width / 1.6, //裁剪框的大小\r\n\t\t\t\t\theight: width / 1.6\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsizex: 750,\r\n\t\t\tsizey: 420\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetCropperImage() {\r\n\t\t\tthis.wecropper.getCropperImage(src => {\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\twx.previewImage({\r\n\t\t\t\t\t\tcurrent: '', // 当前显示图片的http链接\r\n\t\t\t\t\t\turls: [src] // 需要预览的图片http链接列表\r\n\t\t\t\t\t})\r\n\t\t\t\t} \telse {\r\n\t\t\t\t\tconsole.log('获取图片地址失败，请稍后重试')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tuploadTap() {\r\n\t\t\tconst self = this\r\n\t\t\twx.chooseImage({\r\n\t\t\t\tcount: 1, // 默认9\r\n\t\t\t\tsizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\tsourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tself.isChange = true\r\n\t\t\t\t\tconst src = res.tempFilePaths[0]\r\n\t\t\t\t\tconst filesize = res.tempFiles[0].size\r\n\t\t\t\t\t// 判断文件后缀名是否符合要求\r\n\t\t\t\t\tlet filename = src.substr(src.lastIndexOf('.') + 1, src.length)\r\n\t\t\t\t\tif (filesize > 50 * 1000 * 1000) {\r\n\t\t\t\t\t\treturn utils.showFail('上传图片大小不能大于50M！')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filename !== 'jpg' && filename !== 'jpeg' && filename !== 'png') {\r\n\t\t\t\t\t\tutils.showFail('上传图片格式为jpg、png、jpeg')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//  获取裁剪图片资源后，给data添加src属性及其值\r\n\t\t\t\t\t\tself.wecropper.pushOrign(src)\r\n\t\t\t\t\t\tself.originSrc = src\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tsaveCropperImage() {\r\n\t\t\tlet type = this.type\r\n\t\t\tlet originSrc = this.originSrc\r\n\t\t\t// if (!this.isChange) {\r\n\t\t\t// \treturn wx.navigateBack()\r\n\t\t\t// }\r\n\t\t\tthis.wecropper.getCropperImage(src => {\r\n\t\t\t\t// if (src && type.length && this.isChange) {\r\n\t\t\t\tif (src && type.length) {\r\n\t\t\t\t\tutils.getPage(-1).setData({\r\n\t\t\t\t\t\t[type]: src,\r\n\t\t\t\t\t\t['originSrc']: originSrc,\r\n\t\t\t\t\t\t['originEditSrc']: src\r\n\t\t\t\t\t})\r\n\t\t\t\t\twx.navigateBack()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('生成图片地址失败，请稍后重试')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\ttouchStart(e) {\r\n\t\t\tthis.wecropper.touchStart(e)\r\n\t\t},\r\n\t\ttouchMove(e) {\r\n\t\t\tthis.wecropper.touchMove(e)\r\n\t\t},\r\n\t\ttouchEnd(e) {\r\n\t\t\tthis.wecropper.touchEnd(e)\r\n\t\t}\r\n\t},\r\n\tonLoad(option) {\r\n\t\t// this.isChange = false\r\n\t\tlet cropperOpt = this.cropperOpt\r\n\t\tlet { ratio, src, type } = option\r\n\t\tif (option.width && option.height && option.sizex && option.sizey) {\r\n\t\t\tcropperOpt.cut.width = option.width * 1\r\n\t\t\tcropperOpt.cut.height = option.height * 1\r\n\t\t\tcropperOpt.cut.x = (width - option.width * 1) / 2\r\n\t\t\tcropperOpt.cut.y = (height - option.height * 1) / 2\r\n\t\t\tthis.cropperOpt = cropperOpt\r\n\t\t\tthis.sizex = option.sizex\r\n\t\t\tthis.sizey = option.sizey\r\n\t\t}\r\n\t\tthis.type = type\r\n\t\tconst self = this\r\n\t\t//自定义高宽比\r\n\t\tif (ratio) {\r\n\t\t\tlet { width, height } = this.cropperOpt\r\n\t\t\tlet cwidth = this.cropperOpt.cut.width\r\n\t\t\tlet cheight = cwidth * ratio\r\n\t\t\tlet y = (height - cheight) / 2\r\n\t\t\tthis.cropperOpt.cut.y = y\r\n\t\t\tthis.cropperOpt.cut.height = cheight\r\n\t\t}\r\n\t\tthis.wecropper = new WeCropper(cropperOpt)\r\n\t\t\t.on('ready', ctx => {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\tctx.pushOrign(src)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.on('beforeImageLoad', ctx => {\r\n\t\t\t\twx.showToast({\r\n\t\t\t\t\ttitle: '上传中',\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\tduration: 20000\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.on('imageLoad', ctx => {\r\n\t\t\t\twx.hideToast()\r\n\t\t\t})\r\n\t\t\t.on('beforeDraw', (ctx, instance) => {})\r\n\t\t\t.updateCanvas()\r\n\t\t// this.wecropper.on('ready', ctx => {\r\n\t\t// \tconsole.log('%o', ctx)\r\n\t\t// })\r\n\t}\r\n})\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cropper.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cropper.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1569743684884\n      var cssReload = require(\"D:/project/qc_study/sy_project/sy-mini/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///./src/pages/tool/cropper.vue?b2ee","webpack:///./src/pages/tool/cropper.vue?152f","webpack:///./src/pages/tool/cropper.vue?0a63","webpack:///./src/pages/tool/cropper.vue?67ee","webpack:///./src/pages/tool/cropper.vue","webpack:///./src/pages/tool/cropper.vue?94fd","webpack:///./src/pages/tool/cropper.vue?61e1"],"names":["device","wx","getSystemInfoSync","width","windowWidth","height","windowHeight","app","getApp","Vue","extend","data","type","originSrc","isChange","cropperOpt","id","rotateI","tranlateX","tranlateY","scale","zoom","cut","x","y","sizex","sizey","methods","getCropperImage","wecropper","src","previewImage","current","urls","console","log","uploadTap","self","chooseImage","count","sizeType","sourceType","success","res","tempFilePaths","filesize","tempFiles","size","filename","substr","lastIndexOf","length","utils","showFail","pushOrign","saveCropperImage","getPage","setData","navigateBack","touchStart","e","touchMove","touchEnd","onLoad","option","ratio","cwidth","cheight","WeCropper","on","ctx","that","showToast","title","icon","duration","hideToast","instance","updateCanvas"],"mappings":"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","file":"pages/tool/cropper.js","sourcesContent":["import { render, staticRenderFns } from \"./cropper.vue?vue&type=template&id=42dca2cc&\"\nimport script from \"./cropper.vue?vue&type=script&lang=js&\"\nexport * from \"./cropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cropper.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\mengzhiwu\\\\social_miniapp\\\\node_modules\\\\_vue-hot-reload-api@2.3.3@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('42dca2cc')) {\n      api.createRecord('42dca2cc', component.options)\n    } else {\n      api.reload('42dca2cc', component.options)\n    }\n    module.hot.accept(\"./cropper.vue?vue&type=template&id=42dca2cc&\", function () {\n      api.rerender('42dca2cc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/pages/tool/cropper.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@0.9.517@@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@0.3.640@@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@0.3.640@@dcloudio/webpack-uni-mp-loader/lib/style.js!./cropper.vue?vue&type=template&id=42dca2cc&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@0.9.517@@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@0.3.640@@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@0.3.640@@dcloudio/webpack-uni-mp-loader/lib/style.js!./cropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@0.9.517@@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@0.3.640@@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@0.3.640@@dcloudio/webpack-uni-mp-loader/lib/style.js!./cropper.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport WeCropper from '../../static/libs/we-cropper/we-cropper.js'\r\nimport utils from '../../static/utils/index.js'\r\nconst device = wx.getSystemInfoSync()\r\nconst width = device.windowWidth\r\nconst height = device.windowHeight - 50\r\nimport Vue from 'vue';\r\nlet app = getApp()\r\nexport default Vue.extend({\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttype: '',\r\n\t\t\toriginSrc: '',\r\n\t\t\tisChange: false,\r\n\t\t\tcropperOpt: {\r\n\t\t\t\tid: 'cropper',\r\n\t\t\t\trotateI: 0, //旋转默认角度\r\n\t\t\t\ttranlateX: width / 2, //定义canvas 的原点\r\n\t\t\t\ttranlateY: height / 2, //定义canvas 的原点\r\n\t\t\t\twidth, // 画布宽度\r\n\t\t\t\theight, // 画布高度\r\n\t\t\t\tscale: 2.5, // 最大缩放倍数\r\n\t\t\t\tzoom: 8, // 缩放系数,\r\n\t\t\t\tcut: {\r\n\t\t\t\t\tx: (width - width / 1.6) / 2,\r\n\t\t\t\t\ty: (height - width * 0.8) / 2,\r\n\t\t\t\t\twidth: width / 1.6, //裁剪框的大小\r\n\t\t\t\t\theight: width / 1.6\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsizex: 750,\r\n\t\t\tsizey: 420\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tgetCropperImage() {\r\n\t\t\tthis.wecropper.getCropperImage(src => {\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\twx.previewImage({\r\n\t\t\t\t\t\tcurrent: '', // 当前显示图片的http链接\r\n\t\t\t\t\t\turls: [src] // 需要预览的图片http链接列表\r\n\t\t\t\t\t})\r\n\t\t\t\t} \telse {\r\n\t\t\t\t\tconsole.log('获取图片地址失败，请稍后重试')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tuploadTap() {\r\n\t\t\tconst self = this\r\n\t\t\twx.chooseImage({\r\n\t\t\t\tcount: 1, // 默认9\r\n\t\t\t\tsizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\tsourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\r\n\t\t\t\tsuccess(res) {\r\n\t\t\t\t\tself.isChange = true\r\n\t\t\t\t\tconst src = res.tempFilePaths[0]\r\n\t\t\t\t\tconst filesize = res.tempFiles[0].size\r\n\t\t\t\t\t// 判断文件后缀名是否符合要求\r\n\t\t\t\t\tlet filename = src.substr(src.lastIndexOf('.') + 1, src.length)\r\n\t\t\t\t\tif (filesize > 50 * 1000 * 1000) {\r\n\t\t\t\t\t\treturn utils.showFail('上传图片大小不能大于50M！')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (filename !== 'jpg' && filename !== 'jpeg' && filename !== 'png') {\r\n\t\t\t\t\t\tutils.showFail('上传图片格式为jpg、png、jpeg')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//  获取裁剪图片资源后，给data添加src属性及其值\r\n\t\t\t\t\t\tself.wecropper.pushOrign(src)\r\n\t\t\t\t\t\tself.originSrc = src\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tsaveCropperImage() {\r\n\t\t\tlet type = this.type\r\n\t\t\tlet originSrc = this.originSrc\r\n\t\t\t// if (!this.isChange) {\r\n\t\t\t// \treturn wx.navigateBack()\r\n\t\t\t// }\r\n\t\t\tthis.wecropper.getCropperImage(src => {\r\n\t\t\t\t// if (src && type.length && this.isChange) {\r\n\t\t\t\tif (src && type.length) {\r\n\t\t\t\t\tutils.getPage(-1).setData({\r\n\t\t\t\t\t\t[type]: src,\r\n\t\t\t\t\t\t['originSrc']: originSrc,\r\n\t\t\t\t\t\t['originEditSrc']: src\r\n\t\t\t\t\t})\r\n\t\t\t\t\twx.navigateBack()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('生成图片地址失败，请稍后重试')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\ttouchStart(e) {\r\n\t\t\tthis.wecropper.touchStart(e)\r\n\t\t},\r\n\t\ttouchMove(e) {\r\n\t\t\tthis.wecropper.touchMove(e)\r\n\t\t},\r\n\t\ttouchEnd(e) {\r\n\t\t\tthis.wecropper.touchEnd(e)\r\n\t\t}\r\n\t},\r\n\tonLoad(option) {\r\n\t\t// this.isChange = false\r\n\t\tlet cropperOpt = this.cropperOpt\r\n\t\tlet { ratio, src, type } = option\r\n\t\tif (option.width && option.height && option.sizex && option.sizey) {\r\n\t\t\tcropperOpt.cut.width = option.width * 1\r\n\t\t\tcropperOpt.cut.height = option.height * 1\r\n\t\t\tcropperOpt.cut.x = (width - option.width * 1) / 2\r\n\t\t\tcropperOpt.cut.y = (height - option.height * 1) / 2\r\n\t\t\tthis.cropperOpt = cropperOpt\r\n\t\t\tthis.sizex = option.sizex\r\n\t\t\tthis.sizey = option.sizey\r\n\t\t}\r\n\t\tthis.type = type\r\n\t\tconst self = this\r\n\t\t//自定义高宽比\r\n\t\tif (ratio) {\r\n\t\t\tlet { width, height } = this.cropperOpt\r\n\t\t\tlet cwidth = this.cropperOpt.cut.width\r\n\t\t\tlet cheight = cwidth * ratio\r\n\t\t\tlet y = (height - cheight) / 2\r\n\t\t\tthis.cropperOpt.cut.y = y\r\n\t\t\tthis.cropperOpt.cut.height = cheight\r\n\t\t}\r\n\t\tthis.wecropper = new WeCropper(cropperOpt)\r\n\t\t\t.on('ready', ctx => {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\tctx.pushOrign(src)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.on('beforeImageLoad', ctx => {\r\n\t\t\t\twx.showToast({\r\n\t\t\t\t\ttitle: '上传中',\r\n\t\t\t\t\ticon: 'loading',\r\n\t\t\t\t\tduration: 20000\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.on('imageLoad', ctx => {\r\n\t\t\t\twx.hideToast()\r\n\t\t\t})\r\n\t\t\t.on('beforeDraw', (ctx, instance) => {})\r\n\t\t\t.updateCanvas()\r\n\t\t// this.wecropper.on('ready', ctx => {\r\n\t\t// \tconsole.log('%o', ctx)\r\n\t\t// })\r\n\t}\r\n})\r\n","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@0.9.517@@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@0.3.640@@dcloudio/webpack-uni-mp-loader/lib/style.js!./cropper.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_@dcloudio_vue-cli-plugin-uni@0.9.517@@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/_vue-loader@15.7.1@vue-loader/lib/index.js??vue-loader-options!../../../node_modules/_@dcloudio_webpack-uni-mp-loader@0.3.640@@dcloudio/webpack-uni-mp-loader/lib/style.js!./cropper.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1569721822946\n      var cssReload = require(\"D:/mengzhiwu/social_miniapp/node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
>>>>>>> 1b4001104db3cfa8157de70ea9df53beda198198
