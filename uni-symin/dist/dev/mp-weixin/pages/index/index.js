(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/index/index"],{

/***/ 101:
/*!***********************************!*\
  !*** ./src/pages/index/index.vue ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _index_vue_vue_type_template_id_1badc801___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.vue?vue&type=template&id=1badc801& */ 102);
/* harmony import */ var _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.vue?vue&type=script&lang=js& */ 104);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.vue?vue&type=style&index=0&lang=css& */ 106);
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 22);






/* normalize component */

var component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _index_vue_vue_type_template_id_1badc801___WEBPACK_IMPORTED_MODULE_0__["render"],
  _index_vue_vue_type_template_id_1badc801___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "src/pages/index/index.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 102:
/*!******************************************************************!*\
  !*** ./src/pages/index/index.vue?vue&type=template&id=1badc801& ***!
  \******************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_1badc801___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=1badc801& */ 103);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_1badc801___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_1badc801___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 103:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/index/index.vue?vue&type=template&id=1badc801& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 104:
/*!************************************************************!*\
  !*** ./src/pages/index/index.vue?vue&type=script&lang=js& ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/babel-loader/lib!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */ 105);
/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 105:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/index/index.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));

var _index = _interopRequireDefault(__webpack_require__(/*! ../../static/utils/index.js */ 10));

var _common = _interopRequireDefault(__webpack_require__(/*! ../../api/common/common.js */ 8));

var _info = _interopRequireDefault(__webpack_require__(/*! ../../api/info/info */ 15));

var _localstorage = _interopRequireDefault(__webpack_require__(/*! ../../static/utils/localstorage.js */ 16));

var _vuex = __webpack_require__(/*! vuex */ 27);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var app = getApp();

var _default = _vue.default.extend({
  data: function data() {
    return {
      title: 'Hello',
      STATUS_BAR_HEIGHT: wx.STATUS_BAR_HEIGHT,
      DEFAULT_HEADER_HEIGHT: wx.DEFAULT_HEADER_HEIGHT,
      barconfig: {
        CustomBar: wx.STATUS_BAR_HEIGHT + wx.DEFAULT_HEADER_HEIGHT,
        StatusBar: wx.STATUS_BAR_HEIGHT,
        title: '51约',
        bgset: 'bg-gradual-dred',
        tset: 'bg-gradual-tred'
      },
      swiperConf: {
        interval: 5000,
        duration: 500,
        autoplay: true,
        circular: true,
        mode: 'aspectFill',
        model: 1
      },
      vsxIcons: '../../static/images/index-icon-sx.png',
      vshareIcons: '../../static/images/index-icon-share.png',
      vsxIcon: '../../static/images/sx.png',
      Iitemimg: 'https://mzw-sns.oss-cn-beijing.aliyuncs.com/images/default/def_avatar_boy.png',
      Iitemimgw: 'https://mzw-sns.oss-cn-beijing.aliyuncs.com/images/default/def_avatar_girl.png',
      vHot: 'https://sns-cdn.myxianxiaobao.com/sfximao/v-hot.png',
      type: '',
      width: 0,
      upload: '',
      param: {
        gender: 0,
        sort: 1,
        video: 0,
        page: 1,
        pagesize: 10,
        last_page: 1,
        total: 0,
        current_page: 0
      },
      initparam: {},
      loading: false,
      loadConf: {
        loading: false,
        current_page: 1,
        last_page: 1,
        len: -1
      },
      vipIcon: [],
      // vip图标
      userList: [],
      bannerList: [],
      selfTypesObj: {},
      isTopBar: false,
      keyNow: 0,
      vipItem: {},
      uploadResult: '',
      fromType: '',
      locationInfo: {
        latitude: '',
        longitude: ''
      },
      shareFrom: {
        id: '',
        type: ''
      }
    };
  },
  computed: _objectSpread({}, (0, _vuex.mapGetters)({
    tbarconfig: 'tbarconfig'
  })),
  onLoad: function onLoad(param) {
    var height = param.height,
        width = param.width,
        tempFilePath = param.tempFilePath,
        type = param.type,
        otherId = param.otherId,
        fromType = param.fromType,
        id = param.id,
        shareType = param.shareType,
        gotoDesn = param.gotoDesn;

    if (gotoDesn) {
      // 来自注册的跳转
      uni.navigateTo({
        url: '/pages/regist/stepvideo'
      });
      return;
    }

    this.initparam = Object.assign({}, this.param);
    this.otherId = otherId || app.globalData.otherId;
    this.fromType = fromType;
    var that = this; // 注册跳转事件

    if (id && shareType) {
      this.shareFrom = app.globalData.shareFrom = {
        id: id,
        type: shareType
      };
    }

    if (type === 'upload' && tempFilePath) {
      this.type = 'upload';
      this.uploadUrl = tempFilePath;
      this.uploadFile(tempFilePath);
    }

    if (otherId && !app.globalData.isNotRegist && !fromType) {
      this.goSmfunc(otherId);
    }
  },
  onShow: function onShow() {
    var _this = this;

    this.userInfo = app.globalData.userInfo;
    this.vipIcon = app.globalData.vipIcon || [];
    this.locationInfo = app.globalData.locationInfo;
    var otherId = this.otherId || app.globalData.otherId;

    var isNull = _index.default.isEmpty(this.userInfo);

    if (app.globalData.isNotRegist) {
      uni.reLaunch({
        url: '/pages/index/begin?type=regist'
      });
      return;
    } else if (this.shareFrom.id && this.shareFrom.type) {
      app.$vm.sendShareMessAge();
    }

    if (otherId && !app.globalData.isNotRegist && !this.fromType) {
      this.goSmfunc(otherId);
      return;
    }

    if (isNull) app.$vm.getUserInfo(true).then(function (res) {
      _this.userInfo = res;

      _this.init();
    });else this.init();
  },
  onPullDownRefresh: function onPullDownRefresh() {
    this.param.current_page = 0;
    this.param.page = 1;
    this.userList = [];
    this.loading = false;
    this.getMermbers();
    this.getBannerList();
  },
  onReachBottom: function onReachBottom() {
    var loading = this.loading;
    var param = this.param;
    var current_page = param.current_page,
        last_page = param.last_page,
        page = param.page;

    if (!loading && current_page != last_page) {
      this.param.page = current_page + 1;
      this.loadConf.loading = true;
      this.getMermbers();
    } else {// utils.showFail('没有更多数据了')
    }
  },
  onShareAppMessage: function onShareAppMessage() {
    var useId = app.globalData.userInfo && app.globalData.userInfo.memberID;
    return {
      title: "\u6211\u572851\u7EA6\u7EA6\u5230\u4E86\u5C0F\u54E5\u54E5\uFF0C\u5C0F\u59D0\u59D0\u4E00\u8D77\u770B\u7535\u5F71\uFF0C\u5531\u6B4C\uFF0C\u5403\u996D...",
      path: '/pages/index/begin?type=desct&shareType=user&id=' + useId,
      imageUrl: 'https://sns-cdn.myxianxiaobao.com/sfximao/51sharebg.png',
      success: function success(d) {}
    };
  },
  methods: {
    init: function init() {
      var _this2 = this;

      this.selfTypes = app.globalData.selfTypes || _localstorage.default.getItem('selfTypes');
      var isBrush = app.globalData.isBrush; // 刷选页过来的条件数据

      var query = _localstorage.default.getItem('queryParam');

      if (query.length) {
        query = JSON.parse(query);
        query.age_min = query.ageVal[0] || 18;
        query.age_max = query.ageVal[1] || 70;
        query.height_min = query.heightVal[0] || 150;
        query.height_max = query.heightVal[1] || 220;
        query.recent = Number(query.recentR);
        query.objective = query.objective + '';
        if (app.globalData.searchIndexResult || isBrush) Object.assign(this.param, query);
      } else {
        // 初始化性别查询
        this.param.gender = this.userInfo.gender === 1 ? 2 : 1;
      }

      var vipItem = app.globalData.vipItem;

      if (vipItem && vipItem.length) {
        this.initVip(vipItem);
      } else {
        app.$vm.getPlayList().then(function (res) {
          _this2.initVip(res);
        });
      }

      this.selfTypes.map(function (v) {
        _this2.selfTypesObj[v.id] = v.text;
      });
      this.getBannerList();
      this.getMermbers();
    },
    goSmfunc: function goSmfunc(otherId) {
      var pathUrl = '';
      var isagin = 0;
      var _this$userInfo = this.userInfo,
          height = _this$userInfo.height,
          birthday = _this$userInfo.birthday,
          objective = _this$userInfo.objective,
          occupation = _this$userInfo.occupation,
          revenue = _this$userInfo.revenue,
          gender = _this$userInfo.gender,
          status = _this$userInfo.status,
          memberID = _this$userInfo.memberID;
      if (!height || !birthday) pathUrl = '/pages/regist/stepuser';else if (!objective || !revenue) pathUrl = '/pages/regist/stepinfo';else if (gender === 1 && status === 0) pathUrl = '/pages/message/join?from=index';else isagin = 1;

      if (!isagin) {
        uni.reLaunch({
          url: pathUrl
        });
      } else {
        app.globalData.otherId = '';
        this.otherId = '';
        var url = "/pages/userinfo/othersd?id=".concat(otherId);

        if (memberID && otherId && memberID === otherId * 1) {
          url = "/pages/userinfo/detail";
        }

        uni.navigateTo({
          url: url
        });
      }
    },
    initVip: function initVip() {
      var _this3 = this;

      var vipArr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
      vipArr.map(function (v) {
        _this3.vipItem[v.id] = v.title.substr(0, 2);
      });
    },
    getBannerList: function getBannerList() {
      var _this4 = this;

      // utils.showLoading('加载中...')
      _info.default.getBannerList().then(function (res) {
        // utils.hideAll()
        if (res.code === 10000) {
          _this4.bannerList = res.data || [];

          _this4.bannerList.map(function (v) {
            v.src = v.picture_url;
          });

          app.globalData.bannerList = _this4.bannerList;
        }
      });
    },
    goDetail: function goDetail(e) {
      // 查看详情
      var id = e.currentTarget.dataset.id;
      uni.navigateTo({
        url: "/pages/userinfo/othersd?id=".concat(id)
      });
    },
    getMermbers: function getMermbers() {
      var _this5 = this;

      var param;
      var isBrush = app.globalData.isBrush; // 刷选页过来的条件数据

      if (app.globalData.searchIndexResult || isBrush) {
        var _this$param = this.param,
            gender = _this$param.gender,
            sort = _this$param.sort,
            video = _this$param.video,
            page = _this$param.page,
            current_page = _this$param.current_page,
            pagesize = _this$param.pagesize,
            age_min = _this$param.age_min,
            age_max = _this$param.age_max,
            height_min = _this$param.height_min,
            height_max = _this$param.height_max,
            revenue = _this$param.revenue,
            occupation = _this$param.occupation,
            recent = _this$param.recent,
            objective = _this$param.objective;
        param = {
          gender: gender,
          sort: sort,
          video: video,
          page: page,
          current_page: current_page,
          pagesize: pagesize,
          age_min: age_min,
          age_max: age_max,
          height_min: height_min,
          height_max: height_max,
          revenue: revenue,
          occupation: occupation,
          recent: recent,
          objective: objective
        };
        param.objective = param.objective || 0;
      } else param = this.param; // let param = this.param


      if (this.loading) return;

      if (isBrush) {
        param.page = 1;
        param.current_page = 0;
        this.userList = [];
      }

      if (param.page === param.current_page) {
        return;
      }

      this.loading = true;

      _info.default.getUserList(param).then(function (res) {
        _this5.loading = false;
        _this5.loadConf.loading = false;

        if (res.code === 10000) {
          var resdata = res.data;
          var last_page = resdata.last_page,
              _current_page = resdata.current_page,
              total = resdata.total,
              data = resdata.data;

          if (!data.length && isBrush) {
            app.globalData.searchIndexResult = false;
            app.globalData.isBrush = false;

            _index.default.showFail('没有符合条件的用户，以后是系统为你推荐的用户', 1000);

            _this5.param = Object.assign({}, _this5.initparam);

            _this5.getMermbers();

            return;
          }

          if (isBrush && data.length) {
            app.globalData.isBrush = false;
            app.globalData.searchIndexResult = true;
          }

          data.map(function (v) {
            // v.login_time = utils.ctDate(v.login_time * 1000)
            // v.addr = v.location && v.location.substr(0, v.location.indexOf('市') + 1) || ''
            v.distance = _index.default.distance(_this5.locationInfo.latitude, _this5.locationInfo.longitude, v.latitude, v.longitude);
          });
          _this5.loadConf.last_page = _this5.param.last_page = last_page;
          _this5.loadConf.current_page = _this5.param.current_page = _current_page;
          _this5.loadConf.len = data.length || -1;
          _this5.param.total = total;
          _this5.userList = [].concat(_toConsumableArray(_this5.userList), _toConsumableArray(data));
        } else {
          _index.default.showFail('数据获取失败');
        }
      }).catch(function (res) {
        _this5.loading = false;
        _this5.loadConf.loading = false;
      });
    },
    swiperchange: function swiperchange(e) {
      var key = e.detail.key;
      this.keyNow = key;
    },
    goUrl: _index.default.throttle(function (e) {
      _index.default.goUrl(e);
    }),
    checkResult: function checkResult() {
      if (this.upload === 'fail') {
        this.type = 'upload';
        this.upload = '';
        this.uploadFile(this.uploadUrl);
      }
    },
    uploadFile: function uploadFile(temsrc) {
      var _this6 = this;

      var that = this;
      this.upload = '';

      var uploadObj = _common.default.uploadFileProgress({
        filePath: temsrc,
        formData: {
          uploadtype: 'file'
        },
        success: function success(res) {
          var data = res.data;
          that.upload = 'success';
          that.saveUser(data.url);
          setTimeout(function () {
            that.uploadResult = 'complete';
          }, 1000);
        },
        fail: function fail(res) {
          that.width = 100;
          that.upload = 'fail';
        },
        complete: function complete() {}
      });

      uploadObj.onProgressUpdate(function (res) {
        _this6.width = res.progress;
      });
    },
    saveUser: function saveUser(videoUrl) {
      var param = {
        id: this.userInfo.memberID,
        video_url: videoUrl
      };

      _info.default.saveData(param).then(function (res) {
        if (res.code === 10000) {
          uni.$emit('getUserInfo', {
            msg: '更新用户信息'
          });
        }
      });
    }
  }
});

exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 106:
/*!********************************************************************!*\
  !*** ./src/pages/index/index.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!../../../node_modules/css-loader??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css& */ 107);
/* harmony import */ var _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 107:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./src/pages/index/index.vue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[100,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map