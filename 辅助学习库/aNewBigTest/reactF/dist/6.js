(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{121:function(e,t,a){e.exports=a.p+"9054aabebab41a3855edd31a08bcf9fa.jpg"},228:function(e,t,a){"use strict";a.r(t);var s=a(11),n=a.n(s),i=a(12),c=a.n(i),l=a(21),r=a.n(l),o=a(22),d=a.n(o),m=a(41),u=a.n(m),p=a(23),f=a.n(p),h=a(0),v=a.n(h),g=a(97),b=a(19),N=a(105);function E(e,t){var a=e?new Date(e):new Date,s={"M+":a.getMonth()+1,"d+":a.getDate(),"H+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};for(var n in/(y+)/.test(t=t||"yyyy-MM-dd HH:mm")&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?s[n]:("00"+s[n]).substr((""+s[n]).length)));return t}var y=a(121),x=a.n(y),w=a(84),S=a.n(w),O=a(25),j=a(33),k=a(79),z=a(14),T=a(88),I=!1,C=function(e){function t(e){var a;return n()(this,t),(a=r()(this,d()(t).call(this,e))).state={id:"",openId:"",result:{}},document.title="曝光详情",a.getDetailTip=a.getDetailTip.bind(u()(a)),a.dzFunc=a.dzFunc.bind(u()(a)),a.sharefunc=a.sharefunc.bind(u()(a)),a.copyCount=a.copyCount.bind(u()(a)),Object(k.b)(),a}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state||{};e.id||(e=z.a.get("detailState")||{});var t=e,a=t.id,s=t.openId;if(a)this.state.openId=s,this.state.id=a,z.a.set("detailState",{id:a,openId:s}),this.getDetailTip(a);else{var n=decodeURIComponent(location.href),i=Object(k.a)(n);this.props.getUserInfo(i)}}},{key:"componentWillReceiveProps",value:function(e){this.state.openId=e.userInfo.openId;var t="",a=location.href.match(/(?:id=)(\w*)/gi);a&&a.length&&(t=a[0].substring(3)),t.length&&this.getDetailTip(t)}},{key:"sharefunc",value:function(e){wx.ready(function(){wx.updateAppMessageShareData({title:e.title,desc:e.content,link:"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx6357f5dafdb1c45d&redirect_uri=http%3a%2f%2fwww.hyjjdyg.com%2f%23%2fdetail%3fid%3d"+e.id+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect",imgUrl:e.imgurl}),wx.updateTimelineShareData({title:e.title,desc:e.content,link:"https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx6357f5dafdb1c45d&redirect_uri=http%3a%2f%2fwww.hyjjdyg.com%2f%23%2fdetail%3fid%3d"+e.id+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect",imgUrl:e.imgurl})})}},{key:"componentWillUnmount",value:function(){console.log("页面销毁"),Object(k.b)("hide")}},{key:"getDetailTip",value:function(e){var t=this;N.g.loading("数据获取中...",0);var a=this.state.openId,s=this;g.a.detailTip({id:e,openId:a}).then(function(e){if(1*e.code==200){var a=e.result;a.createDate=E(a.createDate);var n=b.fileServer+a.imgIds[0]||S.a;a.imgurl=n,a.padnumArr=[],a.imgIds.map(function(e,t){var n=b.fileServer+e,i=new Image;i.onload=function(){var e=Math.floor(i.height/i.width*100)+"%";a.padnumArr.push(e),a.imgIds.length&&t===a.imgIds.length-1&&(N.g.hide(),s.setState({result:a},function(){console.log("12313"),console.log(e),console.log("%o",s.state.result)}))},i.src=n}),a.imgIds.length||(N.g.hide(),s.setState({result:a})),s.sharefunc(a)}else N.g.fail("没有获取到当前id："+t.state.id+"的详情",0)}).catch(function(e){N.g.hide();var a=Object.assign({},t.state.result,{title:"暂无数据"});a.createDate=E(a.createDate),t.setState({result:a})})}},{key:"copyCount",value:function(){var e=this.state.result.bWeixin;if(e){var t=document.createElement("input");t.value=e,t.style.position="absolute",t.style["z-index"]="-1",t.style.top="0",t.setAttribute("readonly","readonly"),document.body.appendChild(t),t.select(),t.setSelectionRange(0,e.length),document.execCommand("Copy"),document.body.removeChild(t),N.g.success("复制成功",1)}else N.g.fail("复制失败，内容不能为空",1)}},{key:"dzFunc",value:function(e){var t=this;this.state.result.dzOrcaiStatus;if(!I){I=!0;var a=1,s=0;this.state.result.dzOrcaiStatus||(s=1===e?0:2),1===this.state.result.dzOrcaiStatus&&(s=1===e?1:4),2===this.state.result.dzOrcaiStatus&&(s=1===e?5:3),a=0===s||2===s||4===s||5===s?1:0;var n={expId:this.state.id,openId:this.state.openId,actionType:1===e?0:1,actionStatus:a};N.g.loading("数据获取中...",0),g.a.dzOrCai(n).then(function(e){if(I=!1,1*e.code==200)switch(N.g.success("操作成功...",1),s){case 0:var a=Object.assign({},t.state.result,{dzNum:++t.state.result.dzNum,dzOrcaiStatus:1});t.setState({result:a});break;case 1:a=Object.assign({},t.state.result,{dzNum:--t.state.result.dzNum,dzOrcaiStatus:0});t.setState({result:a});break;case 2:a=Object.assign({},t.state.result,{caiNum:++t.state.result.caiNum,dzOrcaiStatus:2});t.setState({result:a});break;case 3:a=Object.assign({},t.state.result,{caiNum:--t.state.result.caiNum,dzOrcaiStatus:0});t.setState({result:a});break;case 4:a=Object.assign({},t.state.result,{dzNum:--t.state.result.dzNum,caiNum:++t.state.result.caiNum,dzOrcaiStatus:2});t.setState({result:a});break;case 5:a=Object.assign({},t.state.result,{caiNum:--t.state.result.caiNum,dzNum:++t.state.result.dzNum,dzOrcaiStatus:1});t.setState({result:a})}else N.g.fail("操作失败...",1)}).catch(function(e){I=!1,N.g.fail("操作失败...",1)})}}},{key:"render",value:function(){var e=this,t=this.state.result,a=null;if(console.log("%o",t),t.imgIds&&t.imgIds.length)a=t.imgIds.map(function(e,a){var s={background:"url("+(b.fileServer+e)+")",paddingBottom:t.padnumArr[a]||"100%",backgroundSize:"cover"};return v.a.createElement("div",{className:"detailshowimg",style:s,key:a})});else{x.a;a=v.a.createElement("div",null,v.a.createElement("div",{className:"detailshowimg"}))}var s={background:"url("+(t.headImgUrl||x.a)+")",backgroundSize:"cover"};return v.a.createElement("div",{className:"detailB"},v.a.createElement("div",{className:"distitle"},v.a.createElement("span",null," ",t.title||"当前被举报信息"," ")),v.a.createElement("div",{className:"distitleli"},"被曝光者微信号"),v.a.createElement("div",{className:"cardbox dw-h-one"},v.a.createElement("div",{className:"dw-show-box"},v.a.createElement("div",{className:"dw-show-title"},"*微信号:"),v.a.createElement("div",{className:"dw-show-content"},t.bWeixin),v.a.createElement("div",{className:"dw-copy-btn",onClick:function(){return e.copyCount()}},"复制"))),v.a.createElement("div",{className:"distitleli"},"被曝光者其他资料"),v.a.createElement("div",{className:"disitem cardbox flex-b"},v.a.createElement("div",{className:"dismess flex-c flex-w"},v.a.createElement("div",{className:"dismess-item flex-c"},v.a.createElement("div",{className:"dismess-title"},"名称/昵称"),v.a.createElement("div",{className:"dismess-content"},t.bName||"被曝光者")),v.a.createElement("div",{className:"dismess-item flex-c"},v.a.createElement("div",{className:"dismess-title"},"手机/电话"),v.a.createElement("div",{className:"dismess-content"},t.bPhone)),v.a.createElement("div",{className:"dismess-item flex-c"},v.a.createElement("div",{className:"dismess-title"},"QQ"),v.a.createElement("div",{className:"dismess-content"},t.bQq)),v.a.createElement("div",{className:"dismess-item flex-c"},v.a.createElement("div",{className:"dismess-title"},"支付宝/银行卡"),v.a.createElement("div",{className:"dismess-content"},t.bZfb)),v.a.createElement("div",{className:"dismess-itemend flex-c"},v.a.createElement("div",{className:"dismess-title"},"其他"),v.a.createElement("div",{className:"dismess-content"},t.bOther)))),v.a.createElement("div",{className:"distitleli"},"事件内容(该事件由受害者描述与平台无关)"),v.a.createElement("div",{className:"detail-box cardbox"},v.a.createElement("div",{className:"detail-content"},t.content),v.a.createElement("div",{className:"img-box"},a)),v.a.createElement("div",{className:"distitleli"},"举报者"),v.a.createElement("div",{className:"disitem cardbox flex-b"},v.a.createElement("div",{className:"dismark-02 flex-c"},v.a.createElement("div",{className:"flex-c flex-w"},v.a.createElement("div",{className:"dismarki-02",style:s}))),v.a.createElement("div",{className:"dismess flex-c flex-w dismess-02"},v.a.createElement("div",{className:"dismess-itemend flex-c"},v.a.createElement("div",{className:"dismess-title f-30"},"微信昵称:"),v.a.createElement("div",{className:"dismess-content f-30"},t.nickName)),v.a.createElement("div",{className:"dismess-itemend flex-c"},v.a.createElement("div",{className:"dismess-title f-30"},"微信号:"),v.a.createElement("div",{className:"dismess-content f-30"},!(1*t.anonymous)&&t.rWeixin||"（匿名）")))),v.a.createElement("div",{className:"opt-box flex-b"},v.a.createElement("div",{className:"opt-bar flex-c"},v.a.createElement("div",{className:"opt-bar-span"},"证明"),v.a.createElement("div",{className:["iconfont icon-buoumaotubiao18 f-60 ",1===t.dzOrcaiStatus&&" icon-active"],onClick:function(){return e.dzFunc(1)}}),v.a.createElement("div",{className:"dismess-content"},t.dzNum||0)),v.a.createElement("div",{className:"opt-bar flex-c"},v.a.createElement("div",{className:"opt-bar-span"},"污蔑"),v.a.createElement("div",{className:["iconfont icon-cai f-60 ",2===t.dzOrcaiStatus&&" icon-active"],onClick:function(){return e.dzFunc(2)}}),v.a.createElement("div",{className:"dismess-content"},t.caiNum||0))),v.a.createElement("div",{className:"wwe"}),v.a.createElement("div",{className:"opt-tip"},v.a.createElement("div",{className:"opt-tip-content"},v.a.createElement("span",null,"查看更多封杀或申诉，请关注微信公众号火眼金睛打妖怪联系客服")),v.a.createElement("div",{className:"opt-tip-readcount"},"阅读",t.readNum||0)),v.a.createElement(T.a,null))}}]),t}(h.PureComponent);t.default=Object(O.connect)(function(e){return e},{getUserInfo:j.b})(C)},79:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var s=a(32);function n(e){var t="",a=e.match(/(?:code=)(\w*)/gi);return a&&a.length&&(t=a[0].substring(5)),t}function i(e){var t=location.href.split("#")[0];-1!==t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),s.a.getJsconfig({url:location.href}).then(function(t){if(1*t.code==200){var a=t.result,s=window.wx||{};s.config({debug:!1,appId:"wx6357f5dafdb1c45d",timestamp:a.timestamp,nonceStr:a.noncestr,signature:a.signature,jsapi_ticket:a.jsapi_ticket,jsApiList:["chooseImage","onMenuShareAppMessage","hideOptionMenu","showOptionMenu","onMenuShareTimeline"]}),s.ready(function(){e?s.hideOptionMenu():s.showOptionMenu()})}})}},84:function(e,t,a){e.exports=a.p+"7b8e8d2f21e711168c14ba6f931da1a0.jpg"},88:function(e,t,a){"use strict";a.d(t,"a",function(){return g});var s=a(11),n=a.n(s),i=a(12),c=a.n(i),l=a(21),r=a.n(l),o=a(22),d=a.n(o),m=a(23),u=a.n(m),p=a(0),f=a.n(p),h=a(84),v=a.n(h),g=function(e){function t(){return n()(this,t),r()(this,d()(t).apply(this,arguments))}return u()(t,e),c()(t,[{key:"render",value:function(){v.a;return f.a.createElement("div",{className:"gzh-code-box"},f.a.createElement("div",{className:"gzh-code-wa"},"微信搜索《火眼金睛打妖怪》或hyjjdyg关注公众号，时时更新查询翘课泡水照骗"),f.a.createElement("div",{className:"gzhbox"},f.a.createElement("img",{className:"gzhbox-img",src:v.a}),f.a.createElement("div",{className:"gzhbox-text"},"扫码关注")))}}]),t}(p.PureComponent)},97:function(e,t,a){"use strict";var s=a(11),n=a.n(s),i=a(12),c=a.n(i),l=a(16),r=function(){function e(){n()(this,e)}return c()(e,[{key:"saveData",value:function(e){return Object(l.a)("admin/Index/login",e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"listTip",value:function(e){return Object(l.a)("dataSyn/api/listTip",e,{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"getIdBycode",value:function(e){return Object(l.a)("dataSyn/api/getbycode",e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"saveTip",value:function(e){return Object(l.a)("dataSyn/api/saveTip",e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"detailTip",value:function(e){return Object(l.a)("dataSyn/api/detailTip",e,{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"dzOrCai",value:function(e){return Object(l.a)("dataSyn/api/dzOrCai",e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"getOpenId",value:function(e){return Object(l.a)("dataSyn/api/getOpenId",e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}},{key:"topTip",value:function(e){return Object(l.a)("dataSyn/api/topTip",e,{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"}})}}]),e}();t.a=new r}}]);